function initializeFacebookLocker(){void 0===Discourse.SiteSettings||null===Discourse.SiteSettings?setTimeout(function(){initializeFacebookLocker()},500):function(t,e,i){var s,n=t.getElementsByTagName(e)[0];t.getElementById(i)||(s=t.createElement(e),s.id=i,s.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8&appId="+Discourse.SiteSettings.facebook_app_id,n.parentNode.insertBefore(s,n))}(document,"script","facebook-jssdk")}initializeFacebookLocker(),window.twttr=function(t,e,i){var s,n=t.getElementsByTagName(e)[0],o=window.twttr||{};return t.getElementById(i)?o:(s=t.createElement(e),s.id=i,s.src="https://platform.twitter.com/widgets.js",n.parentNode.insertBefore(s,n),o._e=[],o.ready=function(t){o._e.push(t)},o)}(document,"script","twitter-wjs"),define("discourse/plugins/content_lockers/discourse/initializers/content_lockers",["exports","discourse/lib/clean-dom","discourse/lib/page-tracker","discourse/lib/ajax","discourse/plugins/content_lockers/discourse/lib/show-lockable-modal"],function(t,e,i,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"content_lockers",after:"inject-objects",initialize:function(t){var o=t.lookup("site-settings:main");if(o.guest_locker_enabled||o.social_locker_enabled){var a=0,r=t.lookup("router:main");r.on("willTransition",s.viewTrackingRequired),r.on("didTransition",e.cleanDOM);var l=t.lookup("app-events:main");(0,i.startPageTracking)(r,l),l.on("page:changed",function(t){var e=!1;if(new RegExp("^/t/").test(t.url)){if(o.guest_locker_enabled&&!Discourse.User.current()&&a>=o.guest_locker_topic_views_threshold&&((0,n.default)("guest-locker",{isCloseable:o.display_close_button_on_lockers,secondsToWait:o.guest_locker_waiting_seconds}),e=!0),o.social_locker_enabled&&!e){var i=$.cookie("social_locker");if(null==i||"success"!=i){var s=Discourse.User.current()?o.social_locker_user_threshold:o.social_locker_guest_threshold;s>0&&a%s==0&&((0,n.default)("social-locker",{isCloseable:o.display_close_button_on_lockers,secondsToWait:o.social_locker_waiting_seconds}),e=!0)}}a++}})}}}}),define("discourse/plugins/content_lockers/discourse/components/d-lockable-modal",["exports","ember-addons/ember-computed-decorators","discourse/components/d-modal"],function(t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,n;t.default=i.default.extend((s=(0,e.on)("didInsertElement"),n={_isLocked:function(){return!0===this.get("isLocked")},setUp:function(){var t=this;!1===this._isLocked()&&$("html").on("keydown.discourse-modal",function(t){27===t.which&&Em.run.next(function(){return $(".modal-header a.close").click()})}),this.appEvents.on("modal:body-shown",function(e){e.title?t.set("title",I18n.t(e.title)):e.rawTitle&&t.set("title",e.rawTitle)})},click:function(t){var e=$(t.target);(e.hasClass("modal-middle-container")||e.hasClass("modal-outer-container"))&&0==this._isLocked()&&$(".modal-header a.close").click()}},function(t,e,i,s,n){var o={};return Object.keys(s).forEach(function(t){o[t]=s[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,s){return s(t,e,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}(n,"setUp",[s],Object.getOwnPropertyDescriptor(n,"setUp"),n),n))}),define("discourse/plugins/content_lockers/discourse/pre-initializers/content_lockers",["exports","discourse/controllers/modal"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"content_lockers",before:"inject-discourse-objects",initialize:function(){e.default.reopen({secondsElapsed:-1,stopWatch:!1,secondsRemaining:function(){var t=this.get("secondsToWait"),e=this.get("secondsElapsed");return t&&t>e?(this.set("stopWatch",!1),t-e):(e>=0&&(this.set("stopWatch",!0),this.send("closeModal")),0)}.property("secondsToWait","secondsElapsed"),tick:function(){var t=this;this.set("secondsElapsed",this.get("secondsElapsed")+1),this.get("stopWatch")||Ember.run.later(function(){t.tick()},1e3)},onShow:function(){this.set("secondsElapsed",-1),this.set("stopWatch",!1),this.tick()}})}}}),Ember.TEMPLATES["javascripts/modal/social-locker"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["d-modal-body"],null,[["title","class"],["modal.social_locker.title","social-locker"]],{"statements":[[0,"  "],[11,"div",[]],[15,"class","fb-like"],[16,"data-href",[34,[[28,["siteSettings","facebook_page_url"]]]]],[15,"data-layout","button_count"],[15,"data-action","like"],[15,"data-size","large"],[15,"data-show-faces","false"],[15,"data-share","false"],[13],[14],[0,"\\n\\n  "],[11,"a",[]],[15,"class","fb-ui-share"],[15,"data-layout","button_count"],[15,"data-size","large"],[15,"data-mobile-iframe","false"],[5,["action"],[[28,[null]],"fbShare"]],[13],[11,"img",[]],[15,"src","https://www.facebook.com/rsrc.php/v3/yq/r/5nnSiJQxbBq.png"],[13],[14],[0," Share"],[14],[0,"\\n\\n  "],[11,"a",[]],[15,"class","twitter-follow-button"],[16,"href",[34,["https://twitter.com/",[28,["siteSettings","twitter_handle"]]]]],[15,"data-size","large"],[15,"data-show-count","false"],[13],[0,"Follow @"],[1,[28,["siteSettings","twitter_handle"]],false],[14],[0,"\\n\\n  "],[11,"a",[]],[15,"class","twitter-share-button"],[15,"href","https://twitter.com/intent/tweet"],[15,"data-size","large"],[13],[0,"Tweet"],[14],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/modal/social-locker"}}),Ember.TEMPLATES["javascripts/modal/guest-locker"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["d-modal-body"],null,[["title","class"],["modal.guest_locker.title","guest-locker"]],{"statements":[[0,"  "],[11,"div",[]],[13],[0,"\\n    "],[11,"p",[]],[13],[1,[33,["replace-emoji"],[[33,["i18n"],["signup_cta.intro"],null]],null],false],[14],[0,"\\n    "],[11,"p",[]],[13],[1,[33,["replace-emoji"],[[33,["i18n"],["signup_cta.value_prop"],null]],null],false],[14],[0,"\\n  "],[14],[0,"\\n  "],[1,[33,["login-buttons"],null,[["action"],["externalLogin"]]],false],[0,"\\n"]],"locals":[]},null],[11,"div",[]],[15,"class","modal-footer"],[13],[0,"\\n"],[6,["if"],[[28,["ssoEnabled"]]],null,{"statements":[[0,"    "],[1,[33,["d-button"],null,[["label","action"],["modal.guest_locker.log_in","showLogin"]]],false],[0,"\\n      or \\n    "],[1,[33,["d-button"],null,[["label","action"],["modal.guest_locker.sign_up","showCreateAccount"]]],false],[0,"\\n"]],"locals":[]},{"statements":[[0,"    "],[11,"a",[]],[15,"href",""],[5,["action"],[[28,[null]],"showLogin"]],[13],[1,[33,["i18n"],["modal.guest_locker.log_in"],null],false],[14],[0,"\\n    .\\n    "],[11,"a",[]],[15,"href",""],[5,["action"],[[28,[null]],"showCreateAccount"]],[13],[1,[33,["i18n"],["modal.guest_locker.sign_up_email"],null],false],[14],[0,"\\n"]],"locals":[]}],[14],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/modal/guest-locker"}}),Ember.TEMPLATES["javascripts/modal"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["d-lockable-modal"],null,[["modalClass","title","isLocked"],[[28,["modalClass"]],[28,["title"]],[28,["isLocked"]]]],{"statements":[[0,"  "],[11,"div",[]],[15,"class","modal-outer-container"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","modal-middle-container"],[13],[0,"\\n      "],[11,"div",[]],[15,"class","modal-inner-container"],[13],[0,"\\n        "],[11,"div",[]],[15,"class","modal-header"],[13],[0,"\\n          "],[11,"h3",[]],[13],[1,[26,["title"]],false],[14],[0,"\\n\\n"],[6,["if"],[[28,["isCloseable"]]],null,{"statements":[[0,"            "],[11,"div",[]],[15,"class","modal-close"],[13],[0,"\\n              "],[11,"a",[]],[15,"class","close"],[5,["action"],[[28,[null]],"closeModal"]],[13],[1,[33,["fa-icon"],["times"],null],false],[14],[0,"\\n            "],[14],[0,"\\n"]],"locals":[]},null],[0,"        "],[14],[0,"\\n\\n        "],[11,"div",[]],[15,"id","modal-alert"],[13],[14],[0,"\\n        "],[1,[33,["outlet"],["modalBody"],null],false],[0,"\\n"],[6,["if"],[[28,["isLocked"]]],null,{"statements":[[0,"          "],[11,"div",[]],[15,"class","modal-footer"],[13],[0,"\\n            "],[11,"div",[]],[15,"class","please_wait"],[13],[1,[33,["i18n"],["modal.please_wait"],[["count"],[[28,["secondsRemaining"]]]]],false],[14],[0,"\\n          "],[14],[0,"\\n"]],"locals":[]},null],[6,["each"],[[28,["errors"]]],null,{"statements":[[0,"          "],[11,"div",[]],[15,"class","alert alert-error"],[13],[0,"\\n            "],[11,"button",[]],[15,"class","close"],[15,"data-dismiss","alert"],[13],[0,"×"],[14],[0,"\\n            "],[1,[28,["error"]],false],[0,"\\n          "],[14],[0,"\\n"]],"locals":["error"]},null],[0,"      "],[14],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/modal"}}),Ember.TEMPLATES["javascripts/discourse/connectors/above-site-header/content_lockers"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[11,"div",[]],[15,"id","fb-root"],[13],[14],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/above-site-header/content_lockers"}}),define("discourse/plugins/content_lockers/discourse/controllers/social-locker",["exports","discourse/mixins/modal-functionality"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Controller.extend(e.default,{first_call:!0,href:window.location.href,_bindFacebookEvents:function(){var t=this;"undefined"!=typeof FB&&null!==FB||(window.fbAsyncInit=function(){FB.Event.subscribe("edge.create",function(e,i){t.send("success")}),FB.Event.subscribe("message.send",function(e,i){t.send("success")})})},_bindTwitterEvents:function(){var t=this;void 0===twttr.events||null===twttr.events?setTimeout(function(){t._bindTwitterEvents()},1e3):(twttr.events.bind("tweet",function(e){t.send("success")}),twttr.events.bind("follow",function(e){t.send("success")}))},onShow:function(){this.set("href",window.location.href),this.get("first_call")&&(this._bindFacebookEvents(),this._bindTwitterEvents(),this.set("first_call",!1)),setTimeout(function(){FB.XFBML.parse(),twttr.widgets.load()},1e3)},actions:{fbShare:function(){var t=this;FB.ui({method:"share",href:t.get("href")},function(e){e&&!e.error_message&&t.send("success")})},success:function(){var t=new Date;t.setTime(t.getTime()+864e5),$.cookie("social_locker","success",{expires:t}),this.send("closeModal")}}})}),define("discourse/plugins/content_lockers/discourse/controllers/guest-locker",["exports","discourse/mixins/modal-functionality","discourse/lib/computed"],function(t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Controller.extend(e.default,{login:Ember.inject.controller(),ssoEnabled:(0,i.setting)("enable_sso"),actions:{externalLogin:function(t){this.get("login").send("externalLogin",t)}}})}),define("discourse/plugins/content_lockers/discourse/lib/show-lockable-modal",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,e){e=e||{};var i=Discourse.__container__,s=i.lookup("route:application"),n=s.controllerFor("modal"),o=void 0===e.isCloseable||e.isCloseable;n.set("modalClass","modal-locked"),n.set("isLocked",!0),n.set("isCloseable",o),n.set("secondsToWait",e.secondsToWait);var a=e.admin?"modals/"+t:t,r=i.lookup("controller:"+a),l=e.templateName||Ember.String.dasherize(t),c={into:"modal",outlet:"modalBody"};r&&(c.controller=a),e.addModalBodyView&&(c.view="modal-body");var u="modal/"+l,p=e.admin?"admin/templates/"+u:u;if(s.render(p,c),e.title&&n.set("title",I18n.t(e.title)),r){r.set("modal",n);var h=e.model;h&&r.set("model",h),r.onShow&&r.onShow(),n.onShow&&n.onShow(),r.set("flashMessage",null)}return r}}),define("discourse/plugins/discourse-ratings/discourse/initializers/ratings-edits",["exports","discourse/models/composer","discourse/lib/plugin-api","ember-addons/ember-computed-decorators","../lib/rating-utilities"],function(t,e,i,s,n){"use strict";function o(t,e,i,s,n){var o={};return Object.keys(s).forEach(function(t){o[t]=s[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,s){return s(t,e,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ratings-edits",initialize:function(){e.default.serializeOnCreate("rating"),e.default.serializeOnCreate("rating_target_id","rating_target_id"),e.default.serializeToTopic("rating_target_id","topic.rating_target_id"),(0,i.withPluginApi)("0.8.10",function(t){var i,a,r,l,c,u,p,h,d,g,m,f,y,v,b,_,x,E;t.includePostAttributes("rating"),t.decorateWidget("poster-name:after",function(t){var e=t.attrs.rating,i=t.getModel();if(i&&i.topic&&i.topic.rating_enabled&&e){var s=new Handlebars.SafeString((0,n.starRatingRaw)(e));return t.rawHtml(""+s)}}),t.modifyClass("model:composer",(i=(0,s.on)("init"),a=(0,s.observes)("post","ratingEnabled"),r=(0,s.default)("subtype","tags","categoryId"),l=(0,s.default)("ratingEnabled","hideRating","topic","post"),c=(0,s.default)("ratingEnabled"),u=(0,s.observes)("topic.rating_target_id"),p={includeRating:!1,includeRatingTargetId:!1,ratingTargetId:void 0,setRating:function(){var t=this.get("post"),e=this.get("editingPost"),i=this.get("creatingTopic"),s=this.get("ratingEnabled");e&&t&&t.rating&&this.setProperties({rating:t.rating,includeRating:!0}),s&&i&&this.set("includeRating",!0)},ratingEnabled:function(t,e,i){return(0,n.ratingEnabled)(t,e,i)},showRating:function(t,i,s,n){return!i&&(n&&n.get("firstPost")&&s.rating_enabled||!s?t:!!s.can_rate||s.rating_enabled&&n&&n.rating&&this.get("action")===e.default.EDIT)},showRatingTargetId:function(t){var e=this.user,i=Discourse.SiteSettings.rating_target_id_enabled;return t&&i&&e.admin},renderRatingTargetIdInput:function(){var t=this.get("topic.rating_target_id"),e=this.get("rating_target_id");t&&void 0===e&&(this.set("rating_target_id",t),this.set("showRatingTargetId",!1),this.set("showRatingTargetId",!0))}},o(p,"setRating",[i,a],Object.getOwnPropertyDescriptor(p,"setRating"),p),o(p,"ratingEnabled",[r],Object.getOwnPropertyDescriptor(p,"ratingEnabled"),p),o(p,"showRating",[l],Object.getOwnPropertyDescriptor(p,"showRating"),p),o(p,"showRatingTargetId",[c],Object.getOwnPropertyDescriptor(p,"showRatingTargetId"),p),o(p,"renderRatingTargetIdInput",[u],Object.getOwnPropertyDescriptor(p,"renderRatingTargetIdInput"),p),p)),t.modifyClass("controller:composer",(h=(0,s.observes)("model.composeState"),d={actions:{save:function(){var t=this,e=this.get("model.showRating"),i=this.get("model.includeRating"),s=this.get("model.rating");if(e&&i&&!s)return bootbox.alert(I18n.t("composer.select_rating"));var n=this.save();n&&Promise.resolve(n).then(function(){if(e&&i&&s){t.get("topicController").toggleCanRate()}})}},saveRatingAfterEditing:function(){if(this.get("model.showRating")&&this.get("model.action")===e.default.EDIT&&this.get("model.composeState")===e.default.SAVING){var t=this.get("model.rating");if(t){var i=this.get("model.post");if(this.get("model.includeRating"))(0,n.editRating)(i.id,t);else{(0,n.removeRating)(i.id);this.get("topicController").toggleCanRate()}}}}},o(d,"saveRatingAfterEditing",[h],Object.getOwnPropertyDescriptor(d,"saveRatingAfterEditing"),d),d)),t.modifyClass("component:composer-body",(g=(0,s.observes)("composer.showRating"),m={resizeIfShowRating:function(){this.get("composer.composeState")===e.default.OPEN&&this.resize()}},o(m,"resizeIfShowRating",[g],(f=Object.getOwnPropertyDescriptor(m,"resizeIfShowRating"),f=f?f.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return f}}),m),m)),t.modifyClass("model:topic",(y=(0,s.default)("subtype","tags","category_id"),v=(0,s.default)("ratingEnabled"),b={ratingEnabled:function(t,e,i){return(0,n.ratingEnabled)(t,e,i)},showRatingTip:function(t){return t&&this.siteSettings.rating_show_topic_tip}},o(b,"ratingEnabled",[y],Object.getOwnPropertyDescriptor(b,"ratingEnabled"),b),o(b,"showRatingTip",[v],Object.getOwnPropertyDescriptor(b,"showRatingTip"),b),b)),t.modifyClass("controller:topic",(_=(0,s.observes)("unsubscribed","model.postStream"),x=(0,s.observes)("editingTopic"),E={refreshAfterTopicEdit:!1,unsubscribed:!1,unsubscribe:function(){if(this.get("content.id")){var t=this.messageBus;t&&(t.unsubscribe("/topic/*"),this.set("unsubscribed",!0))}},subscribeToRatingUpdates:function(){var t=this,e=this.get("unsubscribed"),i=this.get("model"),s=this.get("subscribedTo");if(e){if(this.set("unsubscribed",!1),i&&i.id===s)return this.set("subscribedTo",null);if(this.set("subscribedTo",null),i&&i.get("postStream")&&i.rating_enabled){var n=function(e){return t.appEvents.trigger("post-stream:refresh",e)};this.messageBus.subscribe("/topic/"+i.id,function(t){"revised"===t.type&&(void 0!==t.average_rating&&i.set("average_rating",t.average_rating),void 0!==t.rating_count&&i.set("rating_count",t.rating_count),void 0!==t.post_id&&i.get("postStream").triggerChangedPost(t.post_id,t.updated_at).then(function(){return n({id:t.post_id})}))}),this.set("subscribedTo",i.id)}}},refreshPostRatingVisibility:function(){!this.get("editingTopic")&&this.get("refreshAfterTopicEdit")&&(this.get("model.postStream").refresh(),this.set("refreshAfterTopicEdit",!1))},toggleCanRate:function(){this.get("model")&&this.toggleProperty("model.can_rate")}},o(E,"subscribeToRatingUpdates",[_],Object.getOwnPropertyDescriptor(E,"subscribeToRatingUpdates"),E),o(E,"refreshPostRatingVisibility",[x],Object.getOwnPropertyDescriptor(E,"refreshPostRatingVisibility"),E),E))})}}}),define("discourse/plugins/discourse-ratings/discourse/components/select-rating",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend({tagName:"div",classNames:["rating-container"],showIncludeRating:!0})}),define("discourse/plugins/discourse-ratings/discourse/components/topic-tip",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend({classNames:"topic-tip",didInsertElement:function(){Ember.$(document).on("click",Ember.run.bind(this,this.documentClick))},willDestroyElement:function(){Ember.$(document).off("click",Ember.run.bind(this,this.documentClick))},documentClick:function(t){var e=this.$();$(t.target).closest(e).length<1&&"destroying"!==this._state&&this.set("showDetails",!1)},actions:{toggleDetails:function(){this.toggleProperty("showDetails")}}})}),define("discourse/plugins/discourse-ratings/discourse/components/rating-star",["exports","ember-addons/ember-computed-decorators"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s;t.default=Ember.Component.extend((i=(0,e.default)("rating"),s={tagName:"input",disabled:Ember.computed.not("enabled"),attributeBindings:["value","checked:checked","disabled:disabled"],willInsertElement:function(){this.$().prop("type","radio")},click:function(){this.set("rating",this.$().val())},checked:function(t){return this.get("value")<=t}},function(t,e,i,s,n){var o={};return Object.keys(s).forEach(function(t){o[t]=s[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,s){return s(t,e,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}(s,"checked",[i],Object.getOwnPropertyDescriptor(s,"checked"),s),s))}),define("discourse/plugins/discourse-ratings/discourse/components/star-rating",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend({tagName:"span",classNames:"star-rating",stars:[1,2,3,4,5],enabled:!1})}),define("discourse/plugins/discourse-ratings/discourse/components/composer-add-rating",["exports","ember-addons/ember-computed-decorators"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s;t.default=Ember.Component.extend((i=(0,e.default)("model.subtype","model.showRating"),s={showRating:function(t,e){return"rating"===t&&e}},function(t,e,i,s,n){var o={};return Object.keys(s).forEach(function(t){o[t]=s[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,s){return s(t,e,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}(s,"showRating",[i],Object.getOwnPropertyDescriptor(s,"showRating"),s),s))}),define("discourse/plugins/discourse-ratings/discourse/helpers/rating-helpers",["discourse-common/lib/helpers","../lib/rating-utilities"],function(t,e){"use strict";(0,t.registerUnbound)("star-rating-raw",function(t,i){return new Handlebars.SafeString((0,e.starRatingRaw)(t,i))}),(0,t.registerUnbound)("average-rating",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=""+t;return Discourse.SiteSettings.rating_show_count&&e.count&&(i+=" – "+e.count+" "+I18n.t("topic.x_rating_count",{count:e.count})),new Handlebars.SafeString(i)})}),define("discourse/plugins/discourse-ratings/discourse/widgets/rating-star",["exports","discourse/widgets/widget"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(0,e.createWidget)("rating-star",{tagName:"input",buildAttributes:function(t){var e={type:"radio",value:t.value};return t.checked&&(e.checked=!0),t.disabled&&(e.disabled=!0),e},html:function(){}})}),define("discourse/plugins/discourse-ratings/discourse/widgets/star-rating",["exports","discourse/widgets/widget","virtual-dom"],function(t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(0,e.createWidget)("star-rating",{tagName:"span.star-rating",html:function(t){var e=this,s=[1,2,3,4,5],n=[];return s.forEach(function(s){var o=s<=t.rating;n.push(e.attach("rating-star",{value:s,checked:o,disabled:t.disabled}),(0,i.h)("i"))}),n}})}),define("discourse/plugins/discourse-ratings/discourse/widgets/linked-rating",["exports","discourse/widgets/widget","discourse/lib/url"],function(t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(0,e.createWidget)("linked-rating",{tagName:"span.linked-rating",html:function(t){return this.attach("star-rating",{rating:t.rating,disabled:t.disabled})},click:function(){i.default.routeTo(this.attrs.href)}})}),Ember.TEMPLATES["javascripts/components/composer-add-rating"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["showRating"]]],null,{"statements":[[0,"  "],[1,[33,["select-rating"],null,[["rating","includeRating"],[[28,["model","rating"]],[28,["model","includeRating"]]]]],false],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/composer-add-rating"}}),Ember.TEMPLATES["javascripts/components/star-rating"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["each"],[[28,["stars"]]],null,{"statements":[[0,"  "],[1,[33,["rating-star"],null,[["value","rating","enabled"],[[28,["star"]],[28,["rating"]],[28,["enabled"]]]]],false],[11,"i",[]],[13],[14],[0,"\\n"]],"locals":["star"]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/star-rating"}}),Ember.TEMPLATES["javascripts/components/select-rating"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["showIncludeRating"]]],null,{"statements":[[0,"  "],[1,[33,["input"],null,[["type","checked"],["checkbox",[28,["includeRating"]]]]],false],[0,"\\n"]],"locals":[]},null],[11,"span",[]],[13],[1,[33,["i18n"],["composer.your_rating"],null],false],[14],[0,"\\n"],[6,["if"],[[28,["includeRating"]]],null,{"statements":[[0,"  "],[1,[33,["star-rating"],null,[["enabled","rating"],[[28,["includeRating"]],[28,["rating"]]]]],false],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/select-rating"}}),Ember.TEMPLATES["javascripts/components/topic-tip"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[1,[33,["d-button"],null,[["class","action","label","icon"],["btn btn-small","toggleDetails",[28,["label"]],"info"]]],false],[0,"\\n"],[6,["if"],[[28,["showDetails"]]],null,{"statements":[[0,"  "],[11,"div",[]],[15,"class","tip-details"],[13],[0,"\\n    "],[1,[33,["i18n"],[[28,["details"]]],null],true],[0,"\\n  "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/topic-tip"}}),define("discourse/plugins/discourse-ratings/discourse/connectors/category-custom-settings/set-ratings",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setupComponent:function(t){var e=t.category;e.custom_fields||(e.custom_fields={})}}}),Ember.TEMPLATES["javascripts/discourse/connectors/category-custom-settings/set-ratings"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[11,"section",[]],[15,"class","field"],[13],[0,"\\n  "],[11,"label",[]],[13],[0,"\\n    "],[1,[33,["input"],null,[["type","checked"],["checkbox",[28,["category","custom_fields","rating_enabled"]]]]],false],[0,"\\n    "],[1,[33,["i18n"],["category.enable_rating"],null],false],[0,"\\n  "],[14],[0,"\\n"],[14],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/category-custom-settings/set-ratings"}}),Ember.TEMPLATES["javascripts/discourse/connectors/topic-title/topic-rating"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["siteSettings","rating_topic_average_enabled"]]],null,{"statements":[[0,"  "],[11,"div",[]],[15,"class","average-rating"],[13],[0,"\\n"],[6,["if"],[[28,["model","rating_enabled"]]],null,{"statements":[[6,["if"],[[28,["model","has_ratings"]]],null,{"statements":[[0,"        "],[1,[33,["star-rating-raw"],[[28,["model","average_rating"]]],null],false],[0,"\\n"],[6,["if"],[[28,["siteSettings","rating_show_exact_average"]]],null,{"statements":[[0,"          "],[11,"span",[]],[15,"class","exact-rating"],[13],[0,"\\n            ("],[1,[28,["model","average_rating"]],false],[0,")\\n          "],[14],[0,"\\n"]],"locals":[]},null],[6,["if"],[[28,["siteSettings","rating_show_count"]]],null,{"statements":[[0,"          "],[11,"span",[]],[15,"class","rating-count"],[13],[0,"\\n            "],[1,[28,["model","rating_count"]],false],[0,"\\n            "],[1,[33,["i18n"],["topic.x_rating_count"],[["count"],[[28,["model","rating_count"]]]]],false],[0,"\\n          "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[]},{"statements":[[0,"        "],[1,[33,["i18n"],["topic.no_ratings"],null],false],[0,"\\n"]],"locals":[]}]],"locals":[]},{"statements":[[6,["if"],[[28,["model","average_rating"]]],null,{"statements":[[6,["if"],[[28,["currentUser","admin"]]],null,{"statements":[[0,"          "],[11,"span",[]],[15,"class","exact-rating"],[13],[1,[33,["i18n"],["topic.hidden_ratings"],null],false],[14],[0,"\\n"]],"locals":[]},null]],"locals":[]},null]],"locals":[]}],[0,"  "],[14],[0,"\\n"]],"locals":[]},null],[6,["if"],[[28,["model","showRatingTip"]]],null,{"statements":[[0,"  "],[1,[33,["topic-tip"],null,[["label","details"],["topic.tip.ratings.title","topic.tip.ratings.details"]]],false],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/topic-title/topic-rating"}}),Discourse.RAW_TEMPLATES["javascripts/discourse/connectors/topic-list-after-title/topic-list-rating"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,i,s,n){var o;return null!=(o=i.if.call(null!=e?e:{},"context.topic.show_average",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(2,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:""},2:function(t,e,i,s,n){var o;return null!=(o=i.if.call(null!=e?e:{},"context.topic.has_ratings",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(3,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:""},3:function(t,e,i,s,n){var o;return'      <div class="topic-rating">\n        <a href=\''+t.escapeExpression(i.get.call(null!=e?e:{},"context.topic.url",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"'>\n          "+t.escapeExpression((i["star-rating-raw"]||e&&e["star-rating-raw"]||i.helperMissing).call(null!=e?e:{},"context.topic.average_rating",{name:"star-rating-raw",hash:{clickable:"true"},hashTypes:{clickable:"StringLiteral"},hashContexts:{clickable:e},types:["PathExpression"],contexts:[e],data:n}))+"\n"+(null!=(o=i.if.call(null!=e?e:{},"context.siteSettings.rating_show_exact_average",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(4,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+(null!=(o=i.if.call(null!=e?e:{},"context.siteSettings.rating_show_count",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(6,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"        </a>\n      </div>\n"},4:function(t,e,i,s,n){return'            <span class="exact-rating">\n              ('+t.escapeExpression(i.get.call(null!=e?e:{},"context.topic.average_rating",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+")\n            </span>\n"},6:function(t,e,i,s,n){return'            <span class="rating-count">\n              '+t.escapeExpression(i.get.call(null!=e?e:{},"context.topic.rating_count",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"\n              "+t.escapeExpression((i.i18n||e&&e.i18n||i.helperMissing).call(null!=e?e:{},"topic.x_rating_count",{name:"i18n",hash:{count:"context.topic.rating_count"},hashTypes:{count:"PathExpression"},hashContexts:{count:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n            </span>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,n){var o;return null!=(o=i.if.call(null!=e?e:{},"context.siteSettings.rating_topic_list_average_enabled",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:""},useData:!0}),Ember.TEMPLATES["javascripts/discourse/connectors/composer-fields/composer-controls-rating"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["model","showRating"]]],null,{"statements":[[0,"  "],[1,[33,["select-rating"],null,[["rating","includeRating"],[[28,["model","rating"]],[28,["model","includeRating"]]]]],false],[0,"\\n"]],"locals":[]},null],[6,["if"],[[28,["model","showRatingTargetId"]]],null,{"statements":[[0,"  "],[1,[33,["input"],null,[["class","value","placeholder"],["rating-target-id",[28,["model","rating_target_id"]],[33,["i18n"],["composer.rating_target_id"],null]]]],false],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/composer-fields/composer-controls-rating"}}),define("discourse/plugins/discourse-ratings/discourse/lib/rating-utilities",["exports","discourse/lib/ajax","discourse/lib/ajax-error"],function(t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.starRatingRaw=t.editRating=t.removeRating=t.ratingEnabled=void 0;var s=function(t,e,i){var s=Discourse.Category.findById(i),n=s&&s.rating_enabled,o=e&&e.filter(function(t){return-1!==Discourse.SiteSettings.rating_tags.split("|").indexOf(t)}).length>0,a="rating"===t
;return n||o||a},n=function(t){return(0,e.ajax)("/rating/remove",{type:"POST",data:{post_id:t}}).then(function(t,e){e&&(0,i.popupAjaxError)(e)})},o=function(t,s){return(0,e.ajax)("/rating/rate",{type:"POST",data:{post_id:t,rating:s}}).then(function(t,e){e&&(0,i.popupAjaxError)(e)})},a=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="",s=0;s<5;s++){var n=s+1,o=n<=t?"checked":"",a=e.enabled?"":" disabled",r="";e.clickable?r+='<span class="'+o+a+'"></span>':r+='<input class="'+a+'"type="radio" value="'+n+'" '+o+a+">",r+="<i></i>",i=i.concat(r)}return'<span class="star-rating">'+i+"</span>"};t.ratingEnabled=s,t.removeRating=n,t.editRating=o,t.starRatingRaw=a}),function(){window.jQuery;!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,o,r){function l(t,e,s){var n,o="$()."+i+'("'+e+'")';return t.each(function(t,l){var c=r.data(l,i);if(!c)return void a(i+" not initialized. Cannot call methods, i.e. "+o);var u=c[e];if(!u||"_"==e.charAt(0))return void a(o+" is not a valid method");var p=u.apply(c,s);n=void 0===n?p:n}),void 0!==n?n:t}function c(t,e){t.each(function(t,s){var n=r.data(s,i);n?(n.option(e),n._init()):(n=new o(s,e),r.data(s,i,n))})}(r=r||e||t.jQuery)&&(o.prototype.option||(o.prototype.option=function(t){r.isPlainObject(t)&&(this.options=r.extend(!0,this.options,t))}),r.fn[i]=function(t){if("string"==typeof t){return l(this,t,n.call(arguments,1))}return c(this,t),this},s(r))}function s(t){!t||t&&t.bridget||(t.bridget=i)}var n=Array.prototype.slice,o=t.console,a=void 0===o?function(){}:function(t){o.error(t)};return s(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},s=i[t]=i[t]||[];return-1==s.indexOf(e)&&s.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var s=i.indexOf(e);return-1!=s&&i.splice(s,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var s=this._onceEvents&&this._onceEvents[t],n=0;n<i.length;n++){var o=i[n];s&&s[o]&&(this.off(t,o),delete s[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;c>e;e++){t[l[e]]=0}return t}function s(t){var e=getComputedStyle(t);return e||r("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}function n(){if(!u){u=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=s(e);a=200==Math.round(t(n.width)),o.isBoxSizeOuter=a,i.removeChild(e)}}function o(e){if(n(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=s(e);if("none"==o.display)return i();var r={};r.width=e.offsetWidth,r.height=e.offsetHeight;for(var u=r.isBorderBox="border-box"==o.boxSizing,p=0;c>p;p++){var h=l[p],d=o[h],g=parseFloat(d);r[h]=isNaN(g)?0:g}var m=r.paddingLeft+r.paddingRight,f=r.paddingTop+r.paddingBottom,y=r.marginLeft+r.marginRight,v=r.marginTop+r.marginBottom,b=r.borderLeftWidth+r.borderRightWidth,_=r.borderTopWidth+r.borderBottomWidth,x=u&&a,E=t(o.width);!1!==E&&(r.width=E+(x?0:m+b));var w=t(o.height);return!1!==w&&(r.height=w+(x?0:f+_)),r.innerWidth=r.width-(m+b),r.innerHeight=r.height-(f+_),r.outerWidth=r.width+y,r.outerHeight=r.height+v,r}}var a,r="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],c=l.length,u=!1;return o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var s=e[i],n=s+"MatchesSelector";if(t[n])return n}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e};var s=Array.prototype.slice;i.makeArray=function(t){return Array.isArray(t)?t:null===t||void 0===t?[]:"object"==typeof t&&"number"==typeof t.length?s.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,s){t=i.makeArray(t);var n=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!s)return void n.push(t);e(t,s)&&n.push(t);for(var i=t.querySelectorAll(s),o=0;o<i.length;o++)n.push(i[o])}}),n},i.debounceMethod=function(t,e,i){i=i||100;var s=t.prototype[e],n=e+"Timeout";t.prototype[e]=function(){var t=this[n];clearTimeout(t);var e=arguments,o=this;this[n]=setTimeout(function(){s.apply(o,e),delete o[n]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,s){i.docReady(function(){var o=i.toDashed(s),a="data-"+o,r=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+o),c=i.makeArray(r).concat(i.makeArray(l)),u=a+"-options",p=t.jQuery;c.forEach(function(t){var i,o=t.getAttribute(a)||t.getAttribute(u);try{i=o&&JSON.parse(o)}catch(e){return void(n&&n.error("Error parsing "+a+" on "+t.className+": "+e))}var r=new e(t,i);p&&p.data(t,s,r)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return null,!0}function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var n=document.documentElement.style,o="string"==typeof n.transition?"transition":"WebkitTransition",a="string"==typeof n.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],l={transform:a,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"},c=s.prototype=Object.create(t.prototype);c.constructor=s,c._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.getSize=function(){this.size=e(this.element)},c.css=function(t){var e=this.element.style;for(var i in t){e[l[i]||i]=t[i]}},c.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),s=t[e?"left":"right"],n=t[i?"top":"bottom"],o=parseFloat(s),a=parseFloat(n),r=this.layout.size;-1!=s.indexOf("%")&&(o=o/100*r.width),-1!=n.indexOf("%")&&(a=a/100*r.height),o=isNaN(o)?0:o,a=isNaN(a)?0:a,o-=e?r.paddingLeft:r.paddingRight,a-=i?r.paddingTop:r.paddingBottom,this.position.x=o,this.position.y=a},c.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),s=this.layout._getOption("originTop"),n=i?"paddingLeft":"paddingRight",o=i?"left":"right",a=i?"right":"left",r=this.position.x+t[n];e[o]=this.getXValue(r),e[a]="";var l=s?"paddingTop":"paddingBottom",c=s?"top":"bottom",u=s?"bottom":"top",p=this.position.y+t[l];e[c]=this.getYValue(p),e[u]="",this.css(e),this.emitEvent("layout",[this])},c.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},c.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},c._transitionTo=function(t,e){this.getPosition();var i=this.position.x,s=this.position.y,n=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),n&&!this.isTransitioning)return void this.layoutPosition();var o=t-i,a=e-s,r={};r.transform=this.getTranslate(o,a),this.transition({to:r,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},c.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),s=this.layout._getOption("originTop");return t=i?t:-t,e=s?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},c.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},c.moveTo=c._transitionTo,c.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},c._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},c.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var u="opacity,"+function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}(a);c.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:u,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},c.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},c.onotransitionend=function(t){this.ontransitionend(t)};var p={"-webkit-transform":"transform"};c.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,s=p[t.propertyName]||t.propertyName;if(delete e.ingProperties[s],i(e.ingProperties)&&this.disableTransition(),s in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[s]),s in e.onEnd){e.onEnd[s].call(this),delete e.onEnd[s]}this.emitEvent("transitionEnd",[this])}},c.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},c._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return c.removeTransitionStyles=function(){this.css(h)},c.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},c.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},c.remove=function(){return o&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},c.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},c.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},c.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},c.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},c.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},c.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,s,n,o){return e(t,i,s,n,o)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,s,n){"use strict";function o(t,e){var i=s.getQueryElement(t);if(!i)return void(l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,c&&(this.$element=c(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(e);var n=++p;this.element.outlayerGUID=n,h[n]=this,this._create(),this._getOption("initLayout")&&this.layout()}function a(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function r(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],s=e&&e[2];return i.length?(i=parseFloat(i))*(g[s]||1):0}var l=t.console,c=t.jQuery,u=function(){},p=0,h={};o.namespace="outlayer",o.Item=n,o.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=o.prototype;s.extend(d,e.prototype),d.option=function(t){s.extend(this.options,t)},d._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},o.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),s.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,s=[],n=0;n<e.length;n++){var o=e[n],a=new i(o,this);s.push(a)}return s},d._filterFindItemElements=function(t){return s.filterFindElements(t,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(t){return t.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=i(this.element)},d._getMeasurement=function(t,e){var s,n=this.options[t];n?("string"==typeof n?s=this.element.querySelector(n):n instanceof HTMLElement&&(s=n),this[t]=s?i(s)[e]:n):this[t]=0},d.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},d._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},d._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var s=this._getItemLayoutPosition(t);s.item=t,s.isInstant=e||t.isLayoutInstant,i.push(s)},this),this._processLayoutQueue(i)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},d.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=r(t),this.stagger)},d._positionItem=function(t,e,i,s,n){s?t.goTo(e,i):(t.stagger(n*this.stagger),t.moveTo(e,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},d._getContainerSize=u,d._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},d._emitCompleteOnItems=function(t,e){function i(){n.dispatchEvent(t+"Complete",null,[e])}function s(){++a==o&&i()}var n=this,o=e.length;if(!e||!o)return void i();var a=0;e.forEach(function(e){e.once(t,s)})},d.dispatchEvent=function(t,e,i){var s=e?[e].concat(i):i;if(this.emitEvent(t,s),c)if(this.$element=this.$element||c(this.element),e){var n=c.Event(e);n.type=t,this.$element.trigger(n,i)}else this.$element.trigger(t,i)},d.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},d.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},d.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},d.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){s.removeFrom(this.stamps,t),this.unignore(t)},this)},d._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=s.makeArray(t)):void 0},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},d._manageStamp=u,d._getElementOffset=function(t){var e=t.getBoundingClientRect(),s=this._boundingRect,n=i(t);return{left:e.left-s.left-n.marginLeft,top:e.top-s.top-n.marginTop,right:s.right-e.right-n.marginRight,bottom:s.bottom-e.bottom-n.marginBottom}},d.handleEvent=s.handleEvent,d.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},s.debounceMethod(o,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var t=i(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},d.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},d.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},d.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},d.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},d.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},d.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},d.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},d.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},d.getItems=function(t){t=s.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},d.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),s.removeFrom(this.items,t)},this)},d.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete h[e],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},o.data=function(t){t=s.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&h[e]},o.create=function(t,e){var i=a(o);return i.defaults=s.extend({},o.defaults),s.extend(i.defaults,e),i.compatOptions=s.extend({},o.compatOptions),i.namespace=t,i.data=o.data,i.Item=a(n),s.htmlInit(i,t),c&&c.bridget&&c.bridget(t,i),i};var g={ms:1,s:1e3};return o.Item=n,o}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var s=i.prototype;return s._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},s.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var s=this.columnWidth+=this.gutter,n=this.containerWidth+this.gutter,o=n/s,a=s-n%s,r=a&&1>a?"round":"floor";o=Math[r](o),this.cols=Math.max(o,1)},s.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,s=e(i);this.containerWidth=s&&s.innerWidth},s._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",s=Math[i](t.size.outerWidth/this.columnWidth);s=Math.min(s,this.cols);for(var n=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",o=this[n](s,t),a={x:this.columnWidth*o.col,y:o.y},r=o.y+t.size.outerHeight,l=s+o.col,c=o.col;l>c;c++)this.colYs[c]=r;return a},s._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},s._getTopColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,s=0;i>s;s++)e[s]=this._getColGroupY(s,t);return e},s._getColGroupY=function(t,e){if(2>e)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},s._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols;i=t>1&&i+t>this.cols?0:i;var s=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=s?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},s._manageStamp=function(t){var i=e(t),s=this._getElementOffset(t),n=this._getOption("originLeft"),o=n?s.left:s.right,a=o+i.outerWidth,r=Math.floor(o/this.columnWidth);r=Math.max(0,r);var l=Math.floor(a/this.columnWidth);l-=a%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var c=this._getOption("originTop"),u=(c?s.top:s.bottom)+i.outerHeight,p=r;l>=p;p++)this.colYs[p]=Math.max(u,this.colYs[p])},s._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},s._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},s.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i})}(),function(){window.jQuery;!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},s=i[t]=i[t]||[];return-1==s.indexOf(e)&&s.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var s=i.indexOf(e);return-1!=s&&i.splice(s,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var s=this._onceEvents&&this._onceEvents[t],n=0;n<i.length;n++){var o=i[n];s&&s[o]&&(this.off(t,o),delete s[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function s(t){return Array.isArray(t)?t:"object"==typeof t&&"number"==typeof t.length?c.call(t):[t]}function n(t,e,o){if(!(this instanceof n))return new n(t,e,o);var a=t;return"string"==typeof t&&(a=document.querySelectorAll(t)),a?(this.elements=s(a),this.options=i({},this.options),"function"==typeof e?o=e:i(this.options,e),o&&this.on("always",o),this.getImages(),r&&(this.jqDeferred=new r.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(a||t))}function o(t){this.img=t}function a(t,e){this.url=t,this.element=e,this.img=new Image}var r=t.jQuery,l=t.console,c=Array.prototype.slice;n.prototype=Object.create(e.prototype),n.prototype.options={},n.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},n.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var i=t.querySelectorAll("img"),s=0;s<i.length;s++){var n=i[s];this.addImage(n)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(s=0;s<o.length;s++){var a=o[s];this.addElementBackgroundImages(a)}}}};var u={1:!0,9:!0,11:!0};return n.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,s=i.exec(e.backgroundImage);null!==s;){var n=s&&s[2];n&&this.addBackground(n,t),s=i.exec(e.backgroundImage)}},n.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},n.prototype.addBackground=function(t,e){var i=new a(t,e);this.images.push(i)},n.prototype.check=function(){function t(t,i,s){setTimeout(function(){e.progress(t,i,s)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},n.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},n.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(o.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},n.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(r=e,r.fn.imagesLoaded=function(t,e){return new n(this,t,e).jqDeferred.promise(r(this))})},n.makeJQueryPlugin(),n})}(),define("discourse/plugins/discourse-topic-list-previews/discourse/initializers/preview-route-edits",["exports","../lib/utilities","discourse/lib/ajax","discourse/lib/plugin-api","preload-store","discourse/models/category-list","discourse/models/topic-list"],function(t,e,i,s,n,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"preview-route-edits",initialize:function(t){var e=t.lookup("site:main");if(!e.mobileView){var r=[],l=["Category","ParentCategory","CategoryNone","CategoryWithID"],c=e.get("filters");c.push("top"),c.forEach(function(t){var e=t.capitalize();r.push(e),l.push.apply(l,[e+"Category",e+"ParentCategory",e+"CategoryNone"])}),e.get("periods").forEach(function(t){var e=t.capitalize();r.push("Top"+e),l.push.apply(l,["Top"+e+"Category","Top"+e+"ParentCategory","Top"+e+"CategoryNone"])}),r.forEach(function(e){var e=t.lookup("route:discovery."+e);e.reopen({model:function(t,e){var i=this;return this._super(t,e).then(function(t){var e=null;return t&&t.topic_list&&t.topic_list.featured_topics&&(e=t.topic_list.featured_topics),i.controllerFor("discovery").set("featuredTopics",e),t})}})}),l.forEach(function(e){var e=t.lookup("route:discovery."+e);e.reopen({afterModel:function(t,e){var i=this;return this._super(t,e).then(function(t){var e=null;return t[1]&&t[1].topic_list&&t[1].topic_list.featured_topics&&(e=t[1].topic_list.featured_topics),i.controllerFor("discovery").set("featuredTopics",e),t})}})}),(0,s.withPluginApi)("0.8.12",function(t){t.modifyClass("route:discovery-categories",{setFeaturedTopics:function(t){var e=null;t&&t.topic_list&&t.topic_list.featured_topics&&(e=t.topic_list.featured_topics),this.controllerFor("discovery").set("featuredTopics",e)},_findCategoriesAndTopics:function(t){var e=this;return Ember.RSVP.hash({wrappedCategoriesList:n.default.getAndRemove("categories_list"),topicsList:n.default.getAndRemove("topic_list_"+t)}).then(function(s){var n=s.wrappedCategoriesList,r=s.topicsList,l=n&&n.category_list
;return l&&r?(e.setFeaturedTopics(r),Ember.Object.create({categories:o.default.categoriesFrom(e.store,n),topics:a.default.topicsFrom(e.store,r),can_create_category:l.can_create_category,can_create_topic:l.can_create_topic,draft_key:l.draft_key,draft:l.draft,draft_sequence:l.draft_sequence})):(0,i.ajax)("/categories_and_"+t).then(function(t){return e.setFeaturedTopics(t),Ember.Object.create({categories:o.default.categoriesFrom(e.store,t),topics:a.default.topicsFrom(e.store,t),can_create_category:t.category_list.can_create_category,can_create_topic:t.category_list.can_create_topic,draft_key:t.category_list.draft_key,draft:t.category_list.draft,draft_sequence:t.category_list.draft_sequence})})})}})})}}}}),define("discourse/plugins/discourse-topic-list-previews/discourse/initializers/preview-edits",["exports","../lib/utilities","../lib/actions","discourse/lib/plugin-api","ember-addons/ember-computed-decorators","discourse/lib/url","discourse/raw-views/list/posts-count-column"],function(t,e,i,s,n,o,a){"use strict";function r(t,e,i,s,n){var o={};return Object.keys(s).forEach(function(t){o[t]=s[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,s){return s(t,e,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"preview-edits",initialize:function(t){Discourse.SiteSettings.topic_list_previews_enabled&&(0,s.withPluginApi)("0.8.12",function(s){var l,c,u,p,h,d,g,m,f,y,v,b,_,x,E,w,T,P,k,S,C,O,L,j,z,D,M,R,I,A,B,W;s.modifyClass("component:topic-list",(l=(0,n.on)("init"),c=(0,n.on)("didInsertElement"),u=(0,n.observes)("currentRoute"),p=(0,n.on)("didInsertElement"),h=(0,n.observes)("socialStyle","tilesStyle"),d=(0,n.on)("willDestroyElement"),g=(0,n.default)("listChanged"),m=(0,n.default)("listChanged"),f=(0,n.default)("listChanged"),y=(0,n.default)("listChanged"),v=(0,n.default)("listChanged"),b=(0,n.default)("listChanged"),_=(0,n.default)("listChanged"),x=(0,n.default)("listChanged"),E=(0,n.default)("listChanged"),w=(0,n.observes)("topics.[]"),T={router:Ember.inject.service("-routing"),currentRoute:Ember.computed.alias("router.router.currentRouteName"),classNameBindings:["showThumbnail","showExcerpt","showActions","socialStyle","tilesStyle"],suggestedList:Ember.computed.equal("parentView.parentView.parentView.elementId","suggested-topics"),discoveryList:Ember.computed.equal("parentView._debugContainerKey","component:discovery-topics-list"),listChanged:!1,setup:function(){if(this.get("suggestedList")){var t=this.get("parentView.parentView.parentView.topic.category");this.set("category",t)}this.get("tilesStyle")&&Ember.run.scheduleOnce("afterRender",this,this.applyMasonry)},setupListChanged:function(){!this.get("site.mobileView")&&this.settingEnabled("topic_list_category_badge_move")&&this.set("hideCategory",!0),this.toggleProperty("listChanged")},setupListStyle:function(){this.$()&&(this.$().parents("#list-area").toggleClass("social-style",this.get("socialStyle")),this.$().parents("#list-area").toggleClass("tiles-style",this.get("tilesStyle")),this.$("tbody").toggleClass("grid",this.get("tilesStyle")),!this.$(".grid-sizer").length&&this.get("tilesStyle")&&this.$(".grid").prepend("<div class='grid-sizer'></div>"))},_tearDown:function(){this.$().parents("#list-area").removeClass("social-style"),this.$().parents("#list-area").removeClass("tiles-style"),this.$("tbody").removeClass("grid")},filter:function(){var t=this.get("parentView.model.filter");return this.get("currentRoute").indexOf("tags")>-1&&(t="tags"),this.get("suggestedList")&&(t="suggested"),this.get("site.mobileView")&&(t+="-mobile"),t},settingEnabled:function(t){var e=this.filter(),i=this.get("discoveryList"),s=this.get("suggestedList");if(!i&&!s)return!1;var n=this.get("category"),o=!!n&&n.get(t),a=!!Discourse.SiteSettings[t]&&Discourse.SiteSettings[t].toString(),r=e?e.split("/"):[],l=r[r.length-1],c=o&&o.split("|").indexOf(l)>-1,u=a&&a.split("|").indexOf(l)>-1,p=Discourse.SiteSettings.topic_list_set_category_defaults;return n?c||p&&u:u},socialStyle:function(){return this.settingEnabled("topic_list_social")},tilesStyle:function(){return this.settingEnabled("topic_list_tiles")},tilesOrSocial:function(){return this.get("tilesStyle")||this.get("socialStyle")},showThumbnail:function(){return this.settingEnabled("topic_list_thumbnail")},showExcerpt:function(){return this.settingEnabled("topic_list_excerpt")},showActions:function(){return this.settingEnabled("topic_list_action")},showCategoryBadge:function(){return this.settingEnabled("topic_list_category_badge_move")},skipHeader:function(){return this.get("tilesStyle")||this.get("socialStyle")||this.get("site.mobileView")},thumbnailFirstXRows:function(){return Discourse.SiteSettings.topic_list_thumbnail_first_x_rows},masonryObserver:function(){Ember.run.scheduleOnce("afterRender",this,this.applyMasonry)},applyMasonry:function(){var t=this.$(".grid").data("masonry");if(t){t.reloadItems();var e=t.options.transitionDuration;t.options.transitionDuration=0,$(".grid").imagesLoaded(function(){t.layout()}),t.options.transitionDuration=e}else this.$(".grid").masonry({itemSelector:".grid-item",transitionDuration:"0.7s",percentPosition:!0,Width:".grid-sizer",gutter:6}),t=this.$(".grid").data("masonry"),$(".grid").imagesLoaded(function(){t.layout()})}},r(T,"setup",[l],Object.getOwnPropertyDescriptor(T,"setup"),T),r(T,"setupListChanged",[c,u],Object.getOwnPropertyDescriptor(T,"setupListChanged"),T),r(T,"setupListStyle",[p,h],Object.getOwnPropertyDescriptor(T,"setupListStyle"),T),r(T,"_tearDown",[d],Object.getOwnPropertyDescriptor(T,"_tearDown"),T),r(T,"socialStyle",[g],Object.getOwnPropertyDescriptor(T,"socialStyle"),T),r(T,"tilesStyle",[m],Object.getOwnPropertyDescriptor(T,"tilesStyle"),T),r(T,"tilesOrSocial",[f],Object.getOwnPropertyDescriptor(T,"tilesOrSocial"),T),r(T,"showThumbnail",[y],Object.getOwnPropertyDescriptor(T,"showThumbnail"),T),r(T,"showExcerpt",[v],Object.getOwnPropertyDescriptor(T,"showExcerpt"),T),r(T,"showActions",[b],Object.getOwnPropertyDescriptor(T,"showActions"),T),r(T,"showCategoryBadge",[_],Object.getOwnPropertyDescriptor(T,"showCategoryBadge"),T),r(T,"skipHeader",[x],Object.getOwnPropertyDescriptor(T,"skipHeader"),T),r(T,"thumbnailFirstXRows",[E],Object.getOwnPropertyDescriptor(T,"thumbnailFirstXRows"),T),r(T,"masonryObserver",[w],Object.getOwnPropertyDescriptor(T,"masonryObserver"),T),T)),s.modifyClass("component:topic-list-item",(P=(0,n.on)("init"),k=(0,n.on)("didInsertElement"),S=(0,n.observes)("thumbnails"),C=(0,n.on)("willDestroyElement"),O=(0,n.default)(),L=(0,n.default)(),j=(0,n.default)("topic.thumbnails"),z=(0,n.default)("topic.category"),D=(0,n.default)("likeCount"),M=(0,n.default)("likeDifference"),R=(0,n.default)("hasLiked"),I={canBookmark:Ember.computed.bool("currentUser"),rerenderTriggers:["bulkSelectEnabled","topic.pinned","likeDifference","topic.thumbnails"],socialStyle:Ember.computed.alias("parentView.socialStyle"),tilesStyle:Ember.computed.alias("parentView.tilesStyle"),tilesOrSocial:Ember.computed.alias("parentView.tilesOrSocial"),showThumbnail:Ember.computed.and("thumbnails","parentView.showThumbnail"),showExcerpt:Ember.computed.and("topic.excerpt","parentView.showExcerpt"),showActions:Ember.computed.alias("parentView.showActions"),showCategoryBadge:Ember.computed.alias("parentView.showCategoryBadge"),thumbnailFirstXRows:Ember.computed.alias("parentView.thumbnailFirstXRows"),category:Ember.computed.alias("parentView.category"),_setupProperties:function(){var t=this,i=this.get("topic"),s=i.get("thumbnails"),n=this.get("defaultThumbnail");this.get("tilesStyle")&&(this.set("tagName","div"),this.classNames=["grid-item"]),s?(0,e.testImageUrl)(s,function(e){e||Ember.run.scheduleOnce("afterRender",t,function(){if(n){var e=t.$("img.thumbnail");e&&e.attr("src",n)}else{var i=t.$(".topic-thumbnail");i&&i.hide()}})}):n&&Discourse.SiteSettings.topic_list_default_thumbnail_fallback&&this.set("thumbnails",n);var o=a.default.create({topic:i});o.siteSettings=Discourse.SiteSettings,this.set("likesHeat",o.get("likesHeat"))},_setupDOM:function(){this.get("topic").get("thumbnails")&&this.get("thumbnailFirstXRows")&&this.$().index()>this.get("thumbnailFirstXRows")&&this.set("showThumbnail",!1),this._afterRender()},_afterRender:function(){var t=this;Ember.run.scheduleOnce("afterRender",this,function(){t._setupTitleCSS(),t.get("showThumbnail")&&t.get("socialStyle")&&t._sizeThumbnails(),t.get("showExcerpt")&&!t.get("tilesStyle")&&t._setupExcerptClick(),t.get("showActions")&&t._setupActions()})},_setupTitleCSS:function(){this.$(".topic-title a.visited").closest(".topic-details").addClass("visited")},_setupExcerptClick:function(){var t=this;this.$(".topic-excerpt").on("click.topic-excerpt",function(){o.default.routeTo(t.get("topic.lastReadUrl"))})},click:function(t){this.get("tilesStyle")&&0==$(t.target).parents(".list-button").length&&o.default.routeTo(this.get("topic.lastReadUrl"))},_sizeThumbnails:function(){this.$(".topic-thumbnail img").on("load",function(){$(this).css({width:$(this)[0].naturalWidth})})},_setupActions:function(){var e=this,i=this.get("topic.topic_post_id"),s=this.$(".topic-bookmark"),n=this.$(".topic-like");s.on("click.topic-bookmark",function(){e.toggleBookmark(s,i)}),n.on("click.topic-like",function(){if(e.get("currentUser"))e.toggleLike(n,i);else{t.lookup("controller:application").send("showLogin")}})},_tearDown:function(){this.$(".topic-excerpt").off("click.topic-excerpt"),this.$(".topic-bookmark").off("click.topic-bookmark"),this.$(".topic-like").off("click.topic-like")},expandPinned:function(){return!!this.get("showExcerpt")||this._super()},posterNames:function(){var t=this.get("topic.posters"),e="";return t.forEach(function(i,s){var n=i.user.name?i.user.name:i.user.username;e+='<a href="'+i.user.path+'" data-user-card="'+i.user.username+'" + class="'+i.extras+'">'+n+"</a>",s===t.length-2?e+="<span> & </span>":s!==t.length-1&&(e+="<span>, </span>")}),e},thumbnails:function(){return this.get("topic.thumbnails")},defaultThumbnail:function(t){return(0,e.getDefaultThumbnail)(t)},topicActions:function(t){var e=this,i=[];return(t||this.get("topic.topic_post_can_like")||!this.get("currentUser")||Discourse.SiteSettings.topic_list_show_like_on_current_users_posts)&&i.push(this._likeButton()),this.get("canBookmark")&&(i.push(this._bookmarkButton()),Ember.run.scheduleOnce("afterRender",this,function(){var t=e.$(".topic-statuses .op-bookmark");t&&t.hide()})),i},likeCount:function(t){return(null==t?this.get("topic.topic_post_like_count"):t)||0},hasLikedDisplay:function(){var t=this.get("hasLiked");return null==t?this.get("topic.topic_post_liked"):t},changeLikeCount:function(t){var e=this.get("likeCount"),i=e+(t||0);this.set("hasLiked",Boolean(t>0)),this.set("likeDifference",i),this.rerenderBuffer(),this._afterRender()},_likeButton:function(){var t="topic-like",e=this.get("topic.topic_post_is_current_users");if(this.get("hasLikedDisplay")){t+=" has-like";var i=!this.get("topic.topic_post_can_unlike")&&null==this.get("likeDifference");e=!!e||i}return{class:t,title:"post.controls.like",icon:"heart",disabled:e}},_bookmarkButton:function(){var t="topic-bookmark",e="bookmarks.not_bookmarked";return this.get("topic.topic_post_bookmarked")&&(t+=" bookmarked",e="bookmarks.created"),{class:t,title:e,icon:"bookmark"}},toggleBookmark:function(t,e){(0,i.sendBookmark)(e,!t.hasClass("bookmarked")),t.toggleClass("bookmarked")},toggleLike:function(t,s){var n=this;if(!this.get("hasLikedDisplay")){var o=[1,1.5];return new Ember.RSVP.Promise(function(a){(0,e.animateHeart)(t,o[0],o[1],function(){(0,e.animateHeart)(t,o[1],o[0],function(){(0,i.addLike)(s),n.changeLikeCount(1),a()})})})}(0,i.removeLike)(s),this.changeLikeCount(-1)}},r(I,"_setupProperties",[P],Object.getOwnPropertyDescriptor(I,"_setupProperties"),I),r(I,"_setupDOM",[k],Object.getOwnPropertyDescriptor(I,"_setupDOM"),I),r(I,"_afterRender",[S],Object.getOwnPropertyDescriptor(I,"_afterRender"),I),r(I,"_tearDown",[C],Object.getOwnPropertyDescriptor(I,"_tearDown"),I),r(I,"expandPinned",[O],Object.getOwnPropertyDescriptor(I,"expandPinned"),I),r(I,"posterNames",[L],Object.getOwnPropertyDescriptor(I,"posterNames"),I),r(I,"thumbnails",[j],Object.getOwnPropertyDescriptor(I,"thumbnails"),I),r(I,"defaultThumbnail",[z],Object.getOwnPropertyDescriptor(I,"defaultThumbnail"),I),r(I,"topicActions",[D],Object.getOwnPropertyDescriptor(I,"topicActions"),I),r(I,"likeCount",[M],Object.getOwnPropertyDescriptor(I,"likeCount"),I),r(I,"hasLikedDisplay",[R],Object.getOwnPropertyDescriptor(I,"hasLikedDisplay"),I),I)),s.modifyClass("component:topic-timeline",(A=(0,n.on)("didInsertElement"),B=(0,n.on)("willDestroyElement"),W={refreshTimelinePosition:function(){var t=this;this.appEvents.on("topic:refresh-timeline-position",this,function(){return t.queueDockCheck()})},removeRefreshTimelinePosition:function(){var t=this;this.appEvents.off("topic:refresh-timeline-position",this,function(){return t.queueDockCheck()})}},r(W,"refreshTimelinePosition",[A],Object.getOwnPropertyDescriptor(W,"refreshTimelinePosition"),W),r(W,"removeRefreshTimelinePosition",[B],Object.getOwnPropertyDescriptor(W,"removeRefreshTimelinePosition"),W),W))})}}}),define("discourse/plugins/discourse-topic-list-previews/discourse/components/tlp-featured-topics",["exports","ember-addons/ember-computed-decorators","discourse/lib/text"],function(t,e,i){"use strict";function s(t,e,i,s,n){var o={};return Object.keys(s).forEach(function(t){o[t]=s[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,s){return s(t,e,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,r;t.default=Ember.Component.extend((n=(0,e.on)("init"),o=(0,e.observes)("featuredTopics"),a=(0,e.on)("init"),r={classNameBindings:[":tlp-featured-topics","hasTopics"],hasTopics:Ember.computed.notEmpty("featuredTopics"),featuredTopics:null,setup:function(){this.appEvents.trigger("topic:refresh-timeline-position")},setupTitle:function(){var t=this;if(this.get("showFeaturedTitle")){var e=Discourse.SiteSettings.topic_list_featured_title;(0,i.cookAsync)(e).then(function(e){return t.set("featuredTitle",e)})}},showFeaturedTitle:function(){return Discourse.SiteSettings.topic_list_featured_title},featuredTags:function(){return Discourse.SiteSettings.topic_list_featured_images_tag.split("|")},showFeaturedTags:function(){return this.get("featuredTags")&&Discourse.SiteSettings.topic_list_featured_images_tag_show}},s(r,"setup",[n,o],Object.getOwnPropertyDescriptor(r,"setup"),r),s(r,"setupTitle",[a],Object.getOwnPropertyDescriptor(r,"setupTitle"),r),s(r,"showFeaturedTitle",[e.default],Object.getOwnPropertyDescriptor(r,"showFeaturedTitle"),r),s(r,"featuredTags",[e.default],Object.getOwnPropertyDescriptor(r,"featuredTags"),r),s(r,"showFeaturedTags",[e.default],Object.getOwnPropertyDescriptor(r,"showFeaturedTags"),r),r))}),define("discourse/plugins/discourse-topic-list-previews/discourse/components/tlp-featured-topic",["exports","discourse/lib/url","ember-addons/ember-computed-decorators","../lib/utilities"],function(t,e,i,s){"use strict";function n(t,e,i,s,n){var o={};return Object.keys(s).forEach(function(t){o[t]=s[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,s){return s(t,e,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var o,a,r;t.default=Ember.Component.extend((o=(0,i.default)("topic.tags"),a=(0,i.default)("topic.id"),r={tagName:"a",attributeBindings:["href"],classNameBindings:[":tlp-featured-topic","showDetails","featuredTag"],didInsertElement:function(){var t=this,e=this.get("topic");if(e){var i=(0,s.getDefaultThumbnail)();(0,s.testImageUrl)(e.thumbnails,function(e){e||Ember.run.scheduleOnce("afterRender",t,function(){i?t.$("img.thumbnail").attr("src",i):t.$().hide()})})}},featuredTags:function(){return Discourse.SiteSettings.topic_list_featured_images_tag.split("|")},featuredTag:function(t){var e=this;return t.filter(function(t){return e.get("featuredTags").indexOf(t)>-1})[0]},mouseEnter:function(){this.set("showDetails",!0)},mouseLeave:function(){this.set("showDetails",!1)},href:function(t){return"/t/"+t},click:function(t){t.preventDefault(),e.default.routeTo(this.get("href"))}},n(r,"featuredTags",[i.default],Object.getOwnPropertyDescriptor(r,"featuredTags"),r),n(r,"featuredTag",[o],Object.getOwnPropertyDescriptor(r,"featuredTag"),r),n(r,"href",[a],Object.getOwnPropertyDescriptor(r,"href"),r),r))}),define("discourse/plugins/discourse-topic-list-previews/discourse/helpers/featured-images-enabled",["exports","../lib/utilities"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Helper.helper(function(t){return(0,e.featuredImagesEnabled)(t[0],t[1])})}),define("discourse/plugins/discourse-topic-list-previews/discourse/helpers/preview-helpers",["discourse-common/lib/helpers","../lib/utilities"],function(t,e){"use strict";(0,t.registerUnbound)("preview-unbound",function(t,i){return new Handlebars.SafeString((0,e.renderUnboundPreview)(t,i))}),(0,t.registerUnbound)("list-button",function(t,i){return new Handlebars.SafeString((0,e.buttonHTML)(t,i))})}),Ember.TEMPLATES["javascripts/components/tlp-featured-topics"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["hasTopics"]]],null,{"statements":[[6,["if"],[[28,["showFeaturedTitle"]]],null,{"statements":[[0,"    "],[11,"div",[]],[15,"class","featured-title"],[13],[0,"\\n      "],[1,[26,["featuredTitle"]],false],[0,"\\n    "],[14],[0,"\\n"]],"locals":[]},null],[0,"  "],[11,"div",[]],[15,"class","topics"],[13],[0,"\\n"],[6,["each"],[[28,["featuredTopics"]]],null,{"statements":[[0,"      "],[1,[33,["tlp-featured-topic"],null,[["topic"],[[28,["t"]]]]],false],[0,"\\n"]],"locals":["t"]},null],[0,"  "],[14],[0,"\\n"],[6,["if"],[[28,["showFeaturedTags"]]],null,{"statements":[[0,"    "],[11,"div",[]],[15,"class","featured-tags"],[13],[0,"\\n"],[6,["each"],[[28,["featuredTags"]]],null,{"statements":[[0,"        "],[1,[33,["discourse-tag"],[[28,["tag"]]],null],false],[0,"\\n"]],"locals":["tag"]},null],[0,"    "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/tlp-featured-topics"}}),Ember.TEMPLATES["javascripts/components/tlp-featured-topic"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[1,[33,["preview-unbound"],[[28,["topic","thumbnails"]]],[["featured"],[true]]],false],[0,"\\n"],[11,"div",[]],[15,"class","featured-details"],[13],[0,"\\n  "],[11,"div",[]],[15,"class","content"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","title"],[13],[0,"\\n      "],[1,[28,["topic","title"]],false],[0,"\\n    "],[14],[0,"\\n"],[6,["if"],[[28,["siteSettings","topic_list_featured_excerpt"]]],null,{"statements":[[0,"      "],[11,"div",[]],[15,"class","excerpt"],[13],[0,"\\n        "],[1,[28,["topic","excerpt"]],true],[0,"\\n      "],[14],[0,"\\n"]],"locals":[]},null],[0,"    "],[11,"span",[]],[15,"class","user"],[13],[0,"\\n      "],[1,[28,["topic","topic_post_user","username"]],false],[0,"\\n      "],[1,[33,["avatar"],[[28,["topic","topic_post_user"]]],[["imageSize"],["small"]]],false],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"],[14],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/tlp-featured-topic"}}),Discourse.RAW_TEMPLATES["javascripts/list/topic-category"]=requirejs("discourse-common/lib/raw-handlebars").template({compiler:[7,">= 4.0.0"],main:function(t,e,i,s,n){return"<div class='topic-category'>\n  "+t.escapeExpression((i["category-link"]||e&&e["category-link"]||i.helperMissing).call(null!=e?e:{},"category",{name:"category-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"\n</div>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-list-item"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,i,s,n){return'  <td class=\'star\'>\n    <input type="checkbox" class="bulk-select">\n  </td>\n'},3:function(t,e,i,s,n){return"    "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-list-title",{name:"raw",hash:{showTopicPostBadges:"showTopicPostBadges",socialStyle:"socialStyle",tilesStyle:"tilesStyle",tilesOrSocial:"tilesOrSocial",topic:"topic"},hashTypes:{showTopicPostBadges:"PathExpression",socialStyle:"PathExpression",tilesStyle:"PathExpression",tilesOrSocial:"PathExpression",topic:"PathExpression"},hashContexts:{showTopicPostBadges:e,socialStyle:e,tilesStyle:e,tilesOrSocial:e,topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},5:function(t,e,i,s,n){return"    "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-thumbnail",{name:"raw",hash:{tilesStyle:"tilesStyle",category:"category",thumbnails:"thumbnails",topic:"topic"},hashTypes:{tilesStyle:"PathExpression",category:"PathExpression",thumbnails:"PathExpression",topic:"PathExpression"},hashContexts:{tilesStyle:e,category:e,thumbnails:e,topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},7:function(t,e,i,s,n){var o;return"      "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-list-title",{name:"raw",hash:{showTopicPostBadges:"showTopicPostBadges",topic:"topic"},hashTypes:{showTopicPostBadges:"PathExpression",topic:"PathExpression"},hashContexts:{showTopicPostBadges:e,topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"+(null!=(o=i.if.call(null!=e?e:{},"showCategoryBadge",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(8,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"      "+t.escapeExpression((i["discourse-tags"]||e&&e["discourse-tags"]||i.helperMissing).call(null!=e?e:{},"topic",{name:"discourse-tags",hash:{mode:"list"},hashTypes:{mode:"StringLiteral"},hashContexts:{mode:e},types:["PathExpression"],contexts:[e],data:n}))+"\n"},8:function(t,e,i,s,n){return"        "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-category",{name:"raw",hash:{category:"topic.category"},hashTypes:{category:"PathExpression"},hashContexts:{category:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},10:function(t,e,i,s,n){return"      "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-excerpt",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},12:function(t,e,i,s,n){var o;return(null!=(o=i.if.call(null!=e?e:{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(13,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"      "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.action-list",{name:"raw",hash:{icon:"heart",className:"likes",postNumbers:"topic.liked_post_numbers",topic:"topic"},hashTypes:{icon:"StringLiteral",className:"StringLiteral",postNumbers:"PathExpression",topic:"PathExpression"},hashContexts:{icon:e,className:e,postNumbers:e,topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},13:function(t,e,i,s,n){return"        "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-actions",{name:"raw",hash:{topicActions:"topicActions",likeCount:"likeCount"},hashTypes:{topicActions:"PathExpression",likeCount:"PathExpression"},hashContexts:{topicActions:e,likeCount:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},15:function(t,e,i,s,n){var o;return'    <div class="main-link-footer">\n'+(null!=(o=i.if.call(null!=e?e:{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(13,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"      "+t.escapeExpression((i["raw-plugin-outlet"]||e&&e["raw-plugin-outlet"]||i.helperMissing).call(null!=e?e:{},{name:"raw-plugin-outlet",hash:{name:"topic-list-main-link-footer"},hashTypes:{name:"StringLiteral"},hashContexts:{name:e},types:[],contexts:[],data:n}))+"\n      "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-meta",{name:"raw",hash:{topic:"topic",title:"view.title",likesHeat:"likesHeat"},hashTypes:{topic:"PathExpression",title:"PathExpression",likesHeat:"PathExpression"},hashContexts:{topic:e,title:e,likesHeat:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n    </div>\n"},17:function(t,e,i,s,n){var o;return(null!=(o=i.unless.call(null!=e?e:{},"hideCategory",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:t.program(18,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n"+(null!=(o=i.if.call(null!=e?e:{},"showPosters",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(21,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n  "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.posts-count-column",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n\n"+(null!=(o=i.if.call(null!=e?e:{},"showParticipants",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(23,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n"+(null!=(o=i.if.call(null!=e?e:{},"showLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(25,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n"+(null!=(o=i.if.call(null!=e?e:{},"showOpLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(28,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+'\n  <td class="num views '+t.escapeExpression(i.get.call(null!=e?e:{},"topic.viewsHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+'">'+t.escapeExpression((i.number||e&&e.number||i.helperMissing).call(null!=e?e:{},"topic.views",{name:"number",hash:{numberKey:"views_long"},hashTypes:{numberKey:"StringLiteral"},hashContexts:{numberKey:e},types:["PathExpression"],contexts:[e],data:n}))+"</td>\n  "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.activity-column",{name:"raw",hash:{tagName:"td",class:"num",topic:"topic"},hashTypes:{tagName:"StringLiteral",class:"StringLiteral",topic:"PathExpression"},hashContexts:{tagName:e,class:e,topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},18:function(t,e,i,s,n){var o;return null!=(o=i.unless.call(null!=e?e:{},"topic.isPinnedUncategorized",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:t.program(19,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:""},19:function(t,e,i,s,n){return"      "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.category-column",{name:"raw",hash:{category:"topic.category"},hashTypes:{category:"PathExpression"},hashContexts:{category:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},21:function(t,e,i,s,n){return"    "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.posters-column",{name:"raw",hash:{posters:"topic.posters"},hashTypes:{posters:"PathExpression"},hashContexts:{posters:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},23:function(t,e,i,s,n){return"    "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.posters-column",{name:"raw",hash:{posters:"topic.participants"},hashTypes:{posters:"PathExpression"},hashContexts:{posters:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},25:function(t,e,i,s,n){var o;return'    <td class="num likes">\n'+(null!=(o=i.if.call(null!=e?e:{},"hasLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(26,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"    </td>\n"},26:function(t,e,i,s,n){return"        <a href='"+t.escapeExpression(i.get.call(null!=e?e:{},"topic.summaryUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"'>\n          "+t.escapeExpression((i.number||e&&e.number||i.helperMissing).call(null!=e?e:{},"topic.like_count",{name:"number",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+" <i class='fa fa-heart'></i>\n        </a>\n"},28:function(t,e,i,s,n){var o;return'    <td class="num likes">\n'+(null!=(o=i.if.call(null!=e?e:{},"hasOpLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(29,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"    </td>\n"},29:function(t,e,i,s,n){return"        <a href='"+t.escapeExpression(i.get.call(null!=e?e:{},"topic.summaryUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"'>\n          "+t.escapeExpression((i.number||e&&e.number||i.helperMissing).call(null!=e?e:{},"topic.op_like_count",{name:"number",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+" <i class='fa fa-heart'></i>\n        </a>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,n){var o;return(null!=(o=i.if.call(null!=e?e:{},"bulkSelectEnabled",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n<td class='main-link clearfix' colspan=\""+t.escapeExpression(i.get.call(null!=e?e:{},"titleColSpan",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+'">\n'+(null!=(o=i.if.call(null!=e?e:{},"tilesOrSocial",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(3,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n"+(null!=(o=i.if.call(null!=e?e:{},"showThumbnail",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(5,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+'\n  <div class="topic-details">\n'+(null!=(o=i.unless.call(null!=e?e:{},"tilesOrSocial",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:t.program(7,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n"+(null!=(o=i.if.call(null!=e?e:{},"expandPinned",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(10,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n"+(null!=(o=i.unless.call(null!=e?e:{},"tilesOrSocial",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:t.program(12,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"  </div>\n\n"+(null!=(o=i.if.call(null!=e?e:{},"tilesOrSocial",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(15,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"</td>\n\n\x3c!-- extra columns --\x3e\n\n"+(null!=(o=i.unless.call(null!=e?e:{},"tilesOrSocial",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:t.program(17,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-actions"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,i,s,n){return'    <div class="like-count">'+t.escapeExpression(i.get.call(null!=e?e:{},"likeCount",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"</div>\n"},3:function(t,e,i,s,n){
return"    "+t.escapeExpression((i["list-button"]||e&&e["list-button"]||i.helperMissing).call(null!=e?e:{},"action",{name:"list-button",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,n){var o;return'<div class="topic-actions">\n'+(null!=(o=i.if.call(null!=e?e:{},"likeCount",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+(null!=(o=i.each.call(null!=e?e:{},"action","in","topicActions",{name:"each",hash:{},hashTypes:{},hashContexts:{},fn:t.program(3,n,0),inverse:t.noop,types:["PathExpression","CommentStatement","PathExpression"],contexts:[e,e,e],data:n}))?o:"")+"</div>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-thumbnail"]=requirejs("discourse-common/lib/raw-handlebars").template({compiler:[7,">= 4.0.0"],main:function(t,e,i,s,n){return'<div class="topic-thumbnail">\n  <a href=\''+t.escapeExpression(i.get.call(null!=e?e:{},"topic.url",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"'>\n    "+t.escapeExpression((i["preview-unbound"]||e&&e["preview-unbound"]||i.helperMissing).call(null!=e?e:{},"thumbnails",{name:"preview-unbound",hash:{featured:"featured",category:"category",isSocial:"isSocial",tilesStyle:"tilesStyle"},hashTypes:{featured:"PathExpression",category:"PathExpression",isSocial:"PathExpression",tilesStyle:"PathExpression"},hashContexts:{featured:e,category:e,isSocial:e,tilesStyle:e},types:["PathExpression"],contexts:[e],data:n}))+"\n  </a>\n</div>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-meta"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,i,s,n){return"    <span class=\"middot inline sub\"></span>\n    <div class='inline sub'>\n      "+t.escapeExpression((i["discourse-tags"]||e&&e["discourse-tags"]||i.helperMissing).call(null!=e?e:{},"topic",{name:"discourse-tags",hash:{mode:"list"},hashTypes:{mode:"StringLiteral"},hashContexts:{mode:e},types:["PathExpression"],contexts:[e],data:n}))+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,n){var o;return"<div class=\"topic-meta\">\n  <div class='topic-category inline sub'>\n    "+t.escapeExpression((i["raw-plugin-outlet"]||e&&e["raw-plugin-outlet"]||i.helperMissing).call(null!=e?e:{},{name:"raw-plugin-outlet",hash:{name:"topic-list-social-meta-category"},hashTypes:{name:"StringLiteral"},hashContexts:{name:e},types:[],contexts:[],data:n}))+"\n    "+t.escapeExpression((i["category-link"]||e&&e["category-link"]||i.helperMissing).call(null!=e?e:{},"topic.category",{name:"category-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"\n  </div>\n"+(null!=(o=i.if.call(null!=e?e:{},"topic.tags",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"  "+t.escapeExpression((i["raw-plugin-outlet"]||e&&e["raw-plugin-outlet"]||i.helperMissing).call(null!=e?e:{},{name:"raw-plugin-outlet",hash:{name:"topic-list-social-meta"},hashTypes:{name:"StringLiteral"},hashContexts:{name:e},types:[],contexts:[],data:n}))+'\n  <span class="middot inline sub"></span>\n  <div class="topic-views '+t.escapeExpression(i.get.call(null!=e?e:{},"topic.viewsHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+' inline sub">\n    '+t.escapeExpression((i.number||e&&e.number||i.helperMissing).call(null!=e?e:{},"topic.views",{name:"number",hash:{numberKey:"views_long"},hashTypes:{numberKey:"StringLiteral"},hashContexts:{numberKey:e},types:["PathExpression"],contexts:[e],data:n}))+"\n    <span>"+t.escapeExpression((i.i18n||e&&e.i18n||i.helperMissing).call(null!=e?e:{},"views_lowercase",{name:"i18n",hash:{count:"topic.views"},hashTypes:{count:"PathExpression"},hashContexts:{count:e},types:["StringLiteral"],contexts:[e],data:n}))+'</span>\n  </div>\n  <span class="middot inline sub"></span>\n  <div class=\'topic-replies posts-map '+t.escapeExpression(i.get.call(null!=e?e:{},"likesHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+" inline sub' title='"+t.escapeExpression(i.get.call(null!=e?e:{},"title",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"'>\n    <a href class='posts-map badge-posts "+t.escapeExpression(i.get.call(null!=e?e:{},"likesHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"'>"+t.escapeExpression((i.number||e&&e.number||i.helperMissing).call(null!=e?e:{},"topic.replyCount",{name:"number",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"</a>\n    <span>"+t.escapeExpression((i.i18n||e&&e.i18n||i.helperMissing).call(null!=e?e:{},"replies_lowercase",{name:"i18n",hash:{count:"topic.replyCount"},hashTypes:{count:"PathExpression"},hashContexts:{count:e},types:["StringLiteral"],contexts:[e],data:n}))+'</span>\n  </div>\n  <span class="middot inline sub"></span>\n  <div class="'+t.escapeExpression(i.get.call(null!=e?e:{},"class",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+" "+t.escapeExpression((i["cold-age-class"]||e&&e["cold-age-class"]||i.helperMissing).call(null!=e?e:{},"topic.createdAt",{name:"cold-age-class",hash:{class:"",startDate:"topic.bumpedAt"},hashTypes:{class:"StringLiteral",startDate:"PathExpression"},hashContexts:{class:e,startDate:e},types:["PathExpression"],contexts:[e],data:n}))+' activity inline sub" title="'+(null!=(o=i.get.call(null!=e?e:{},"topic.bumpedAtTitle",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))?o:"")+'">\n    <a href="'+t.escapeExpression(i.get.call(null!=e?e:{},"topic.lastPostUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+'">'+t.escapeExpression((i["format-date"]||e&&e["format-date"]||i.helperMissing).call(null!=e?e:{},"topic.bumpedAt",{name:"format-date",hash:{noTitle:"true",format:"medium-with-ago"},hashTypes:{noTitle:"StringLiteral",format:"StringLiteral"},hashContexts:{noTitle:e,format:e},types:["PathExpression"],contexts:[e],data:n}))+"</a>\n  </div>\n</div>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-users"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,i,s,n){return'      <a href="'+t.escapeExpression(i.get.call(null!=e?e:{},"poster.user.path",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+'" data-user-card="'+t.escapeExpression(i.get.call(null!=e?e:{},"poster.user.username",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+'" class="'+t.escapeExpression(i.get.call(null!=e?e:{},"poster.extras",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+'">\n        '+t.escapeExpression((i.avatar||e&&e.avatar||i.helperMissing).call(null!=e?e:{},"poster",{name:"avatar",hash:{imageSize:"small",usernamePath:"user.username",avatarTemplatePath:"user.avatar_template"},hashTypes:{imageSize:"StringLiteral",usernamePath:"StringLiteral",avatarTemplatePath:"StringLiteral"},hashContexts:{imageSize:e,usernamePath:e,avatarTemplatePath:e},types:["PathExpression"],contexts:[e],data:n}))+"\n      </a>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,n){var o;return"<div class='topic-users'>\n  <div class=\"inline\">\n"+(null!=(o=i.each.call(null!=e?e:{},"poster","in","topic.posters",{name:"each",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,n,0),inverse:t.noop,types:["PathExpression","CommentStatement","PathExpression"],contexts:[e,e,e],data:n}))?o:"")+"  </div>\n</div>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-list-title"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,i,s,n){return"      "+t.escapeExpression((i["topic-featured-link"]||e&&e["topic-featured-link"]||i.helperMissing).call(null!=e?e:{},"topic",{name:"topic-featured-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"\n"},3:function(t,e,i,s,n){var o;return null!=(o=i.if.call(null!=e?e:{},"topic.unseen",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(4,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:""},4:function(t,e,i,s,n){return'        <span class="badge-notification new-topic"></span>\n'},6:function(t,e,i,s,n){var o;return null!=(o=i.if.call(null!=e?e:{},"showTopicPostBadges",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(7,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:""},7:function(t,e,i,s,n){return"        "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"topic-post-badges",{name:"raw",hash:{url:"topic.lastUnreadUrl",unseen:"topic.unseen",newPosts:"topic.displayNewPosts",unread:"topic.unread"},hashTypes:{url:"PathExpression",unseen:"PathExpression",newPosts:"PathExpression",unread:"PathExpression"},hashContexts:{url:e,unseen:e,newPosts:e,unread:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},9:function(t,e,i,s,n){return"      "+t.escapeExpression((i["raw-plugin-outlet"]||e&&e["raw-plugin-outlet"]||i.helperMissing).call(null!=e?e:{},{name:"raw-plugin-outlet",hash:{name:"topic-list-after-title"},hashTypes:{name:"StringLiteral"},hashContexts:{name:e},types:[],contexts:[],data:n}))+"\n"},11:function(t,e,i,s,n){return"    "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-users",{name:"raw",hash:{posterNames:"posterNames",topic:"topic"},hashTypes:{posterNames:"PathExpression",topic:"PathExpression"},hashContexts:{posterNames:e,topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,n){var o;return"<div class=\"topic-title\">\n  <span class='link-top-line'>\n    "+t.escapeExpression((i["raw-plugin-outlet"]||e&&e["raw-plugin-outlet"]||i.helperMissing).call(null!=e?e:{},{name:"raw-plugin-outlet",hash:{name:"topic-list-before-status"},hashTypes:{name:"StringLiteral"},hashContexts:{name:e},types:[],contexts:[],data:n}))+"\n    "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"topic-status",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n    "+t.escapeExpression((i["topic-link"]||e&&e["topic-link"]||i.helperMissing).call(null!=e?e:{},"topic",{name:"topic-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"\n\n"+(null!=(o=i.if.call(null!=e?e:{},"topic.featured_link",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n"+(null!=(o=i.if.call(null!=e?e:{},"mobileView",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(3,n,0),inverse:t.program(6,n,0),types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n"+(null!=(o=i.unless.call(null!=e?e:{},"tilesOrSocial",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:t.program(9,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"  </span>\n\n"+(null!=(o=i.if.call(null!=e?e:{},"tilesOrSocial",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(11,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"</div>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/mobile/list/topic-list-item"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,i,s,n){var o;return"    "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-list-title",{name:"raw",hash:{mobileView:"site.mobileView",socialStyle:"socialStyle",topic:"topic"},hashTypes:{mobileView:"PathExpression",socialStyle:"PathExpression",topic:"PathExpression"},hashContexts:{mobileView:e,socialStyle:e,topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"+(null!=(o=i.if.call(null!=e?e:{},"showThumbnail",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(2,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")},2:function(t,e,i,s,n){return"      "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-thumbnail",{name:"raw",hash:{thumbnails:"thumbnails",topic:"topic"},hashTypes:{thumbnails:"PathExpression",topic:"PathExpression"},hashContexts:{thumbnails:e,topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},4:function(t,e,i,s,n){var o;return null!=(o=i.if.call(null!=e?e:{},"showThumbnail",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(2,n,0),inverse:t.program(5,n,0),types:["PathExpression"],contexts:[e],data:n}))?o:""},5:function(t,e,i,s,n){return"      <div class='pull-left'>\n        <a href=\""+t.escapeExpression(i.get.call(null!=e?e:{},"topic.lastPostUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+'">'+t.escapeExpression((i.avatar||e&&e.avatar||i.helperMissing).call(null!=e?e:{},"topic.lastPoster",{name:"avatar",hash:{imageSize:"large"},hashTypes:{imageSize:"StringLiteral"},hashContexts:{imageSize:e},types:["PathExpression"],contexts:[e],data:n}))+"</a>\n      </div>\n"},7:function(t,e,i,s,n){return"      <div class='main-link'>\n        "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-list-title",{name:"raw",hash:{mobileView:"site.mobileView",showTopicPostBadges:"showTopicPostBadges",topic:"topic"},hashTypes:{mobileView:"PathExpression",showTopicPostBadges:"PathExpression",topic:"PathExpression"},hashContexts:{mobileView:e,showTopicPostBadges:e,topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n      </div>\n      <div class='pull-right'>\n        "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.post-count-or-badges",{name:"raw",hash:{postBadgesEnabled:"showTopicPostBadges",topic:"topic"},hashTypes:{postBadgesEnabled:"PathExpression",topic:"PathExpression"},hashContexts:{postBadgesEnabled:e,topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n      </div>\n"},9:function(t,e,i,s,n){return"      "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-excerpt",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},11:function(t,e,i,s,n){var o;return(null!=(o=i.unless.call(null!=e?e:{},"hideCategory",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:t.program(12,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+(null!=(o=i.if.call(null!=e?e:{},"topic.tags",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(14,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n"+(null!=(o=i.if.call(null!=e?e:{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(17,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+'\n      <div class=\'num activity last\'>\n        <span class="age activity" title="'+t.escapeExpression(i.get.call(null!=e?e:{},"topic.bumpedAtTitle",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+'"><a href="'+t.escapeExpression(i.get.call(null!=e?e:{},"topic.lastPostUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+'">'+t.escapeExpression((i["format-date"]||e&&e["format-date"]||i.helperMissing).call(null!=e?e:{},"topic.bumpedAt",{name:"format-date",hash:{noTitle:"true",format:"tiny"},hashTypes:{noTitle:"StringLiteral",format:"StringLiteral"},hashContexts:{noTitle:e,format:e},types:["PathExpression"],contexts:[e],data:n}))+"</a></span>\n      </div>\n"},12:function(t,e,i,s,n){return"        "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-category",{name:"raw",hash:{category:"topic.category"},hashTypes:{category:"PathExpression"},hashContexts:{category:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},14:function(t,e,i,s,n){var o;return"        <div class='discourse-tags'>\n"+(null!=(o=i.each.call(null!=e?e:{},"tag","in","topic.visibleListTags",{name:"each",hash:{},hashTypes:{},hashContexts:{},fn:t.program(15,n,0),inverse:t.noop,types:["PathExpression","CommentStatement","PathExpression"],contexts:[e,e,e],data:n}))?o:"")+"        </div>\n"},15:function(t,e,i,s,n){return"          "+t.escapeExpression((i["discourse-tag"]||e&&e["discourse-tag"]||i.helperMissing).call(null!=e?e:{},"tag",{name:"discourse-tag",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:n}))+"\n"},17:function(t,e,i,s,n){return"        "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-actions",{name:"raw",hash:{topicActions:"topicActions",likeCount:"likeCount"},hashTypes:{topicActions:"PathExpression",likeCount:"PathExpression"},hashContexts:{topicActions:e,likeCount:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"},19:function(t,e,i,s,n){var o;return"    <div class='main-link-footer'>\n      "+t.escapeExpression((i.raw||e&&e.raw||i.helperMissing).call(null!=e?e:{},"list.topic-meta",{name:"raw",hash:{topic:"topic",likesHeat:"view.likesHeat",title:"view.title"},hashTypes:{topic:"PathExpression",likesHeat:"PathExpression",title:"PathExpression"},hashContexts:{topic:e,likesHeat:e,title:e},types:["StringLiteral"],contexts:[e],data:n}))+"\n"+(null!=(o=i.if.call(null!=e?e:{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(17,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"      "+t.escapeExpression((i["raw-plugin-outlet"]||e&&e["raw-plugin-outlet"]||i.helperMissing).call(null!=e?e:{},{name:"raw-plugin-outlet",hash:{name:"topic-list-after-title"},hashTypes:{name:"StringLiteral"},hashContexts:{name:e},types:[],contexts:[],data:n}))+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,n){var o;return"<td>\n"+(null!=(o=i.if.call(null!=e?e:{},"socialStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,n,0),inverse:t.program(4,n,0),types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n  <div class='topic-details'>\n"+(null!=(o=i.unless.call(null!=e?e:{},"socialStyle",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:t.program(7,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n"+(null!=(o=i.if.call(null!=e?e:{},"expandPinned",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(9,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"\n"+(null!=(o=i.unless.call(null!=e?e:{},"socialStyle",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:t.program(11,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"  </div>\n\n"+(null!=(o=i.if.call(null!=e?e:{},"socialStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(19,n,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:n}))?o:"")+"</td>\n"},useData:!0}),Ember.TEMPLATES["javascripts/discourse/connectors/category-custom-settings/category-list-settings"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["siteSettings","topic_list_previews_enabled"]]],null,{"statements":[[0,"  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_social"],null],false],[14],[0,"\\n    "],[1,[33,["list-setting"],null,[["settingValue","choices","settingName"],[[28,["category","custom_fields","topic_list_social"]],[28,["choices"]],"category.topic_list_social"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_tiles"],null],false],[14],[0,"\\n    "],[1,[33,["list-setting"],null,[["settingValue","choices","settingName"],[[28,["category","custom_fields","topic_list_tiles"]],[28,["filteredChoices"]],"category.topic_list_tiles"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_thumbnail"],null],false],[14],[0,"\\n    "],[1,[33,["list-setting"],null,[["settingValue","choices","settingName"],[[28,["category","custom_fields","topic_list_thumbnail"]],[28,["choices"]],"category.topic_list_thumbnail"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_excerpt"],null],false],[14],[0,"\\n    "],[1,[33,["list-setting"],null,[["settingValue","choices","settingName"],[[28,["category","custom_fields","topic_list_excerpt"]],[28,["choices"]],"category.topic_list_excerpt"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_action"],null],false],[14],[0,"\\n    "],[1,[33,["list-setting"],null,[["settingValue","choices","settingName"],[[28,["category","custom_fields","topic_list_action"]],[28,["choices"]],"category.topic_list_action"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_category_badge_move"],null],false],[14],[0,"\\n    "],[1,[33,["list-setting"],null,[["settingValue","choices","settingName"],[[28,["category","custom_fields","topic_list_category_badge_move"]],[28,["choices"]],"category.topic_list_category_badge_move"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_default_thumbnail"],null],false],[14],[0,"\\n    "],[1,[33,["text-field"],null,[["value","placeholderKey"],[[28,["category","custom_fields","topic_list_default_thumbnail"]],"category.topic_list_default_thumbnail_placeholder"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_thumbnail_width"],null],false],[14],[0,"\\n    "],[1,[33,["input"],null,[["type","class","value","placeholderKey"],["integer","input-small",[28,["category","custom_fields","topic_list_thumbnail_width"]],"category.topic_list_thumbnail_width_placeholder"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_thumbnail_height"],null],false],[14],[0,"\\n    "],[1,[33,["input"],null,[["type","class","value","placeholderKey"],["integer","input-small",[28,["category","custom_fields","topic_list_thumbnail_height"]],"category.topic_list_thumbnail_height_placeholder"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[1,[33,["input"],null,[["type","checked"],["checkbox",[28,["category","custom_fields","topic_list_featured_images"]]]]],false],[0,"\\n    "],[11,"span",[]],[13],[1,[33,["i18n"],["category.topic_list_featured_images"],null],false],[14],[0,"\\n  "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/category-custom-settings/category-list-settings"}}),define("discourse/plugins/discourse-topic-list-previews/discourse/connectors/category-custom-settings/category-list-settings",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=["latest","new","unread","top","suggested","agenda","latest-mobile","new-mobile","unread-mobile","top-mobile","suggested-mobile","agenda-mobile"],i=["social","thumbnail","excerpt","action","category_badge_move"],s=["suggested","agenda","latest-mobile","new-mobile","unread-mobile","top-mobile","suggested-mobile","agenda-mobile"];t.default={setupComponent:function(t,n){var o=t.category;o.custom_fields||(o.custom_fields={}),i.forEach(function(e){"string"!=typeof t.category.custom_fields["topic_list_"+e]&&(t.category.custom_fields["topic_list_"+e]="")}),n.set("choices",e);var a=e.filter(function(t){return-1===s.indexOf(t)});n.set("filteredChoices",a)}}}),Ember.TEMPLATES["javascripts/discourse/connectors/topic-above-post-stream/featured-topics-topic"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["unless"],[[28,["site","mobileView"]]],null,{"statements":[[6,["if"],[[28,["model","featured_topics"]]],null,{"statements":[[0,"    "],[1,[33,["tlp-featured-topics"],null,[["featuredTopics"],[[28,["model","featured_topics"]]]]],false],[0,"\\n"]],"locals":[]},null]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/topic-above-post-stream/featured-topics-topic"}}),define("discourse/plugins/discourse-topic-list-previews/discourse/connectors/discovery-list-container-top/featured-topics-discovery",["exports","discourse-common/lib/get-owner"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setupComponent:function(t,i){var s=this,n=(0,e.getOwner)(this).lookup("controller:discovery");i.set("featuredTopics",n.get("featuredTopics")),n.addObserver("featuredTopics",function(){if("destroying"!==s._state){var t=n.get("featuredTopics");i.set("featuredTopics",t)}})}}}),Ember.TEMPLATES["javascripts/discourse/connectors/discovery-list-container-top/featured-topics-discovery"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["featuredTopics"]]],null,{"statements":[[0,"  "],[1,[33,["tlp-featured-topics"],null,[["featuredTopics"],[[28,["featuredTopics"]]]]],false],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/discovery-list-container-top/featured-topics-discovery"}}),define("discourse/plugins/discourse-topic-list-previews/discourse/lib/utilities",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(t){return"string"==typeof t&&"false"!==t&&"nil"!==t&&"null"!==t&&""!==t},i=function(t){return!!t&&(t.retina&&e(t.retina)?window.devicePixelRatio>=2?t.retina:t.normal:t.normal&&e(t.normal)?t.normal:e(t)?t:void 0)},s=function(t,e){var s=i(t);if(!s)return"";if(Discourse.Site.currentProp("mobileView"))return'<img class="thumbnail" src="'+s+'"/>';var n=Discourse.SiteSettings,o=e.isSocial?"max-":"",a=e.tilesStyle?"%":"px",r=e.tilesStyle?"":"px",l=!!e.category&&e.category.topic_list_thumbnail_width,c=!!e.category&&e.category.topic_list_thumbnail_height,u=!!e.featured&&n.topic_list_featured_width,p=!!e.featured&&n.topic_list_featured_height,h=!!e.tilesStyle&&"100";return'<img class="thumbnail" src="'+s+'" style="'+o+"height:"+(!!e.tilesStyle&&"auto"||p||c||n.topic_list_thumbnail_height)+r+";"+o+"width:"+(h||u||l||n.topic_list_thumbnail_width)+a+'" />'},n=function(t,e){var s=i(t),n=Discourse.SiteSettings.topic_list_test_image_url_timeout,o=void 0,a=new Image;a.onerror=a.onabort=function(){clearTimeout(o),e(!1)},a.onload=function(){clearTimeout(o),e(!0)},o=setTimeout(function(){e(!1)},n),a.src=s},o=function(t){var e=!!t&&t.topic_list_default_thumbnail,i=e||Discourse.SiteSettings.topic_list_default_thumbnail;return i||!1},a=function(t){t=t||{};var e="<button class='list-button "+t.class+"'";return t.title&&(e+='title="'+I18n.t(t.title)+'"'),t.disabled&&(e+=" disabled"),e+="><i class='fa fa-"+t.icon+"' aria-hidden='true'></i>",e+="</button>"},r=function(t,e,i,s){if(Ember.testing)return Ember.run(this,s);t.stop().css("textIndent",e).animate({textIndent:i},{complete:s,step:function(t){$(this).css("transform","scale("+t+")")},duration:150},"linear")},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!Discourse.SiteSettings.topic_list_featured_images_topic)&&(!t||Discourse.SiteSettings.topic_list_featured_images_category?Discourse.SiteSettings.topic_list_featured_images:t.topic_list_featured_images)};t.renderUnboundPreview=s,t.testImageUrl=n,t.buttonHTML=a,t.animateHeart=r,t.featuredImagesEnabled=l,t.getDefaultThumbnail=o}),define("discourse/plugins/discourse-topic-list-previews/discourse/lib/actions",["exports","discourse/lib/ajax","discourse/lib/ajax-error"],function(t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeLike=t.sendBookmark=t.addLike=void 0;var s=function(t){(0,e.ajax)("/post_actions",{type:"POST",data:{id:t,post_action_type_id:2},returnXHR:!0}).catch(function(t){(0,i.popupAjaxError)(t)})},n=function(t,s){return(0,e.ajax)("/posts/"+t+"/bookmark",{type:"PUT",data:{bookmarked:s}}).catch(function(t){(0,i.popupAjaxError)(t)})},o=function(t){(0,e.ajax)("/post_actions/"+t,{type:"DELETE",data:{post_action_type_id:2}}).catch(function(t){(0,i.popupAjaxError)(t)})};t.addLike=s,t.sendBookmark=n,t.removeLike=o});
//# sourceMappingURL=/assets/plugin-third-party-ea9b0ee817d3d2f6b55c2834468f2049b73a24a64e75243061be6ff76fe5e790.js.map